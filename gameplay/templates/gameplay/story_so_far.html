{% extends "base.html" %}

{% block title %}Příběh zatím{% endblock %}

{% block content %}
<style>
body {
  overflow-y: auto;
}
</style>
<h1>Story So Far</h1>
<p>Tady budeme zobrazovat intro, outro, vzpomínky a další sekvence.</p>
<div class="sequence-buttons">
  <button onclick="playSequence('intro')">Přehrát Intro</button>
  <button onclick="playSequence('easy_end')">Přehrát Konec Easy</button>
  <button onclick="playSequence('medium_end')">Přehrát Konec Medium</button>
  <button onclick="playSequence('hard_end')">Přehrát Konec Hard</button>

</div>
<h3>Debug: Intro data</h3>
<ul>
  {% for line in sequences.intro %}
    <li>{{ line }}</li>
  {% empty %}
    <li><strong>Žádná data v sequences["intro"]</strong></li>
  {% endfor %}
</ul>
<ul>
  {% for line in sequences.easy_end %}
    <li>{{ line }}</li>
  {% empty %}
    <li><strong>Žádná data v sequences["easy_end"]</strong></li>
  {% endfor %}
</ul>
<ul>
  {% for line in sequences.medium_end %}
    <li>{{ line }}</li>
  {% empty %}
    <li><strong>Žádná data v sequences["medium_end"]</strong></li>
  {% endfor %}
</ul>
<ul>
  {% for line in sequences.hard_end %}
    <li>{{ line }}</li>
  {% empty %}
    <li><strong>Žádná data v sequences["hard_end"]</strong></li>
  {% endfor %}
</ul>

<hr>
<h3 style="color: crimson;">🛠 Debug: Memory výpis podle obtížnosti</h3>

<h4>🟢 Easy ({{ unlocked_easy|length }}/20)</h4>
<ul>
  {% for mem in unlocked_easy %}
    <li>#{{ mem.order }} – {{ mem.text|truncatechars:80 }}</li>
  {% empty %}
    <li><i>Žádné odemčené vzpomínky</i></li>
  {% endfor %}
</ul>

<h4>🟠 Medium ({{ unlocked_medium|length }}/20)</h4>
<ul>
  {% for mem in unlocked_medium %}
    <li>#{{ mem.order }} – {{ mem.text|truncatechars:80 }}</li>
  {% empty %}
    <li><i>Žádné odemčené vzpomínky</i></li>
  {% endfor %}
</ul>

<h4>🔴 Hard ({{ unlocked_hard|length }}/20)</h4>
<ul>
  {% for mem in unlocked_hard %}
    <li>#{{ mem.order }} – {{ mem.text|truncatechars:80 }}</li>
  {% empty %}
    <li><i>Žádné odemčené vzpomínky</i></li>
  {% endfor %}
</ul>
<h3>🛠 Debug: Přidat vzpomínku</h3>
<a href="{% url 'debug_add_memory' 'easy' %}" class="debug-button">➕ Easy Memory</a>
<a href="{% url 'debug_add_memory' 'medium' %}" class="debug-button">➕ Medium Memory</a>
<a href="{% url 'debug_add_memory' 'hard' %}" class="debug-button">➕ Hard Memory</a>
<br>
<a href="{% url 'reset_progress' %}" class="debug-button" style="background: darkred;">🔁 Resetuj všechny vzpomínky</a>
{% include "partials/sequence.html" with name=sequence_name frames=sequence_frames images=sequence_images %}
{% endblock %}